<!-- templates/dashboard.html -->
{% extends "base.html" %}

{% block title %}Dashboard - Raman{% endblock %}

{% block content %}
<div class="card">
    <h2 style="margin-bottom: 10px;">Welcome, {{ session.username }}!</h2>
    <p style="color: #7f8c8d; margin-bottom: 30px;">Role: <strong>{{ session.role }}</strong></p>

    {% if session.role in ['Administrator', 'Staff'] %}
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
        <a href="{{ url_for('new_patient') }}" class="btn btn-success" style="padding: 40px 20px; font-size: 16px;">
            <div style="font-size: 32px; margin-bottom: 10px;">+</div>
            New Patient
        </a>

        <a href="{{ url_for('validate_data') }}" class="btn btn-primary" style="padding: 40px 20px; font-size: 16px;">
            <div style="font-size: 32px; margin-bottom: 10px;">ğŸ”</div>
            Validate Data
        </a>

        <a href="{{ url_for('export_data') }}" class="btn btn-primary" style="padding: 40px 20px; font-size: 16px;">
            <div style="font-size: 32px; margin-bottom: 10px;">ğŸ“Š</div>
            Export Data
        </a>

        {% if session.role == 'Administrator' %}
        <a href="{{ url_for('settings') }}" class="btn btn-secondary" style="padding: 40px 20px; font-size: 16px;">
            <div style="font-size: 32px; margin-bottom: 10px;">âš™ï¸</div>
            Settings
        </a>
        {% endif %}
    </div>
    {% endif %}
</div>

<div class="card">
    <h3 style="margin-bottom: 20px; color: #2c3e50;">System Information</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
        <div style="padding: 20px; background: #ecf0f1; border-radius: 6px;">
            <div style="font-size: 24px; font-weight: bold; color: #3498db;">{{ stats.total_patients|default(0) }}</div>
            <div style="color: #7f8c8d; font-size: 14px;">Total Patients</div>
        </div>
        <div style="padding: 20px; background: #ecf0f1; border-radius: 6px;">
            <div style="font-size: 24px; font-weight: bold; color: #27ae60;">{{ stats.total_users|default(0) }}</div>
            <div style="color: #7f8c8d; font-size: 14px;">System Users</div>
        </div>
        <div style="padding: 20px; background: #ecf0f1; border-radius: 6px;">
            <div style="font-size: 24px; font-weight: bold; color: #e74c3c;">{{ stats.next_patient_id|default(1500) }}</div>
            <div style="color: #7f8c8d; font-size: 14px;">Next Patient ID</div>
        </div>
    </div>
</div>
{% endblock %}